<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ella's | Home</title>
<link rel="stylesheet" href="style.css">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<header class="navbar">
  <div class="logo">Ella's</div>
  
  <div class="hamburger" id="hamburger">
    <span></span><span></span><span></span>
  </div>
  <ul class="menu-links" id="menuLinks">
    <li><a href="shop.html">Shop</a></li>
    <li><a href="cart.html">Cart</a></li>
    <li><a href="contact.html">Contact</a></li>
    <li><a href="index.html">Home</a></li>
  </ul>
</header>

<main class="landing-wrapper">
  <section class="intro-section">
    <div class="intro-text">
      <h1>Custom Handmade Clothing at your disposal</h1>
      <p>Get your custom handcrafted clothing @ Ella's Handcrafts </p>
      <a href="shop.html" class="primary-cta">Explore Store</a>
    </div>
    <div class="intro-visual">
    </div>
  </section>
</main>

<button id="authFloatingBtn">Login with Google</button>

<script>
const authBtn = document.getElementById("authFloatingBtn");
const API_BASE = "https://novastore-production.up.railway.app";

// Check login status
async function checkAuth() {
  try {
    const res = await fetch(`${API_BASE}/api/auth/status`, { credentials: "include" });
    const data = await res.json();

    if (data.loggedIn) {
      authBtn.textContent = "Logout";
      authBtn.onclick = () => window.location.href = `${API_BASE}/logout`;
    } else {
      authBtn.textContent = "Login with Google";
      authBtn.onclick = () => window.location.href = `${API_BASE}/auth/google`;
    }
  } catch (err) {
    console.error("Auth check failed:", err);
  }
}

checkAuth();

// Hamburger toggle
document.getElementById("hamburger").addEventListener("click", () => {
  document.getElementById("menuLinks").classList.toggle("show");
});

// Search functionality
document.getElementById("searchInput").addEventListener("keypress", (e) => {
  if (e.key === "Enter") {
    const query = e.target.value.toLowerCase();
    window.location.href = `shop.html?search=${encodeURIComponent(query)}`;
  }
});
</script>
</body>
</html>
